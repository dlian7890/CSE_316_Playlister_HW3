{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Min\\\\Documents\\\\CSE 316\\\\Homework\\\\CSE_316_Playlister_HW3\\\\client\\\\src\\\\components\\\\ListCard.js\",\n  _s = $RefreshSig$();\nimport { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { GlobalStoreContext } from '../store';\n/*\r\n    This is a card in our list of playlists. It lets select\r\n    a list for editing and it has controls for changing its \r\n    name or deleting it.\r\n    \r\n    @author McKilla Gorilla\r\n*/\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ListCard(props) {\n  _s();\n  const {\n    store\n  } = useContext(GlobalStoreContext);\n  const [editActive, setEditActive] = useState(false);\n  const [text, setText] = useState('');\n  store.history = useHistory();\n  const {\n    idNamePair,\n    selected\n  } = props;\n  const handleDeleteList = event => {\n    event.stopPropagation();\n    let id = event.target.id.substring('delete-list-'.length);\n    const showDeleteListModal = () => {\n      let modal = document.getElementById('delete-list-modal');\n      modal.classList.add('is-visible');\n    };\n    store.selectListToDelete(id);\n    showDeleteListModal();\n  };\n  function handleLoadList(event) {\n    if (!event.target.disabled) {\n      let _id = event.target.id;\n      if (_id.indexOf('list-card-text-') >= 0) _id = ('' + _id).substring('list-card-text-'.length);\n\n      // CHANGE THE CURRENT LIST\n      store.setCurrentList(_id);\n    }\n  }\n  function handleToggleEdit(event) {\n    event.stopPropagation();\n    toggleEdit();\n  }\n  function toggleEdit() {\n    let newActive = !editActive;\n    if (newActive) {\n      store.setListNameActive();\n    }\n    setEditActive(newActive);\n  }\n  function handleKeyPress(event) {\n    if (event.code === 'Enter') {\n      let id = event.target.id.substring('list-'.length);\n      store.changeListName(id, text);\n      toggleEdit();\n    }\n  }\n  function handleUpdateText(event) {\n    setText(event.target.value);\n  }\n  let selectClass = 'unselected-list-card';\n  if (selected) {\n    selectClass = 'selected-list-card';\n  }\n  let cardStatus = false;\n  if (store.isListNameEditActive) {\n    cardStatus = true;\n  }\n  let cardElement = /*#__PURE__*/_jsxDEV(\"div\", {\n    id: idNamePair._id,\n    onClick: handleLoadList,\n    className: 'list-card ' + selectClass,\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      id: 'list-card-text-' + idNamePair._id,\n      className: \"list-card-text\",\n      children: idNamePair.name\n    }, 'span-' + idNamePair._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      disabled: cardStatus,\n      type: \"button\",\n      id: 'delete-list-' + idNamePair._id,\n      className: \"list-card-button\",\n      onClick: handleDeleteList,\n      value: 'ðŸ—‘'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      disabled: cardStatus,\n      type: \"button\",\n      id: 'edit-list-' + idNamePair._id,\n      className: \"list-card-button\",\n      onClick: handleToggleEdit,\n      value: '\\u270E'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, idNamePair._id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n  if (editActive) {\n    cardElement = /*#__PURE__*/_jsxDEV(\"input\", {\n      id: 'list-' + idNamePair._id,\n      className: \"list-card\",\n      type: \"text\",\n      onKeyPress: handleKeyPress,\n      onChange: handleUpdateText,\n      defaultValue: idNamePair.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this);\n  }\n  return cardElement;\n}\n_s(ListCard, \"FQUOBeM8KR9eSKv45xElH2KR2So=\", false, function () {\n  return [useHistory];\n});\n_c = ListCard;\nexport default ListCard;\nvar _c;\n$RefreshReg$(_c, \"ListCard\");","map":{"version":3,"names":["useContext","useState","useHistory","GlobalStoreContext","ListCard","props","store","editActive","setEditActive","text","setText","history","idNamePair","selected","handleDeleteList","event","stopPropagation","id","target","substring","length","showDeleteListModal","modal","document","getElementById","classList","add","selectListToDelete","handleLoadList","disabled","_id","indexOf","setCurrentList","handleToggleEdit","toggleEdit","newActive","setListNameActive","handleKeyPress","code","changeListName","handleUpdateText","value","selectClass","cardStatus","isListNameEditActive","cardElement","name"],"sources":["C:/Users/Min/Documents/CSE 316/Homework/CSE_316_Playlister_HW3/client/src/components/ListCard.js"],"sourcesContent":["import { useContext, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { GlobalStoreContext } from '../store';\r\n/*\r\n    This is a card in our list of playlists. It lets select\r\n    a list for editing and it has controls for changing its \r\n    name or deleting it.\r\n    \r\n    @author McKilla Gorilla\r\n*/\r\nfunction ListCard(props) {\r\n  const { store } = useContext(GlobalStoreContext);\r\n  const [editActive, setEditActive] = useState(false);\r\n  const [text, setText] = useState('');\r\n  store.history = useHistory();\r\n  const { idNamePair, selected } = props;\r\n\r\n  const handleDeleteList = (event) => {\r\n    event.stopPropagation();\r\n    let id = event.target.id.substring('delete-list-'.length);\r\n    const showDeleteListModal = () => {\r\n      let modal = document.getElementById('delete-list-modal');\r\n      modal.classList.add('is-visible');\r\n    };\r\n    store.selectListToDelete(id);\r\n    showDeleteListModal();\r\n  };\r\n\r\n  function handleLoadList(event) {\r\n    if (!event.target.disabled) {\r\n      let _id = event.target.id;\r\n      if (_id.indexOf('list-card-text-') >= 0)\r\n        _id = ('' + _id).substring('list-card-text-'.length);\r\n\r\n      // CHANGE THE CURRENT LIST\r\n      store.setCurrentList(_id);\r\n    }\r\n  }\r\n\r\n  function handleToggleEdit(event) {\r\n    event.stopPropagation();\r\n    toggleEdit();\r\n  }\r\n\r\n  function toggleEdit() {\r\n    let newActive = !editActive;\r\n    if (newActive) {\r\n      store.setListNameActive();\r\n    }\r\n    setEditActive(newActive);\r\n  }\r\n\r\n  function handleKeyPress(event) {\r\n    if (event.code === 'Enter') {\r\n      let id = event.target.id.substring('list-'.length);\r\n      store.changeListName(id, text);\r\n      toggleEdit();\r\n    }\r\n  }\r\n  function handleUpdateText(event) {\r\n    setText(event.target.value);\r\n  }\r\n\r\n  let selectClass = 'unselected-list-card';\r\n  if (selected) {\r\n    selectClass = 'selected-list-card';\r\n  }\r\n  let cardStatus = false;\r\n  if (store.isListNameEditActive) {\r\n    cardStatus = true;\r\n  }\r\n  let cardElement = (\r\n    <div\r\n      id={idNamePair._id}\r\n      key={idNamePair._id}\r\n      onClick={handleLoadList}\r\n      className={'list-card ' + selectClass}\r\n    >\r\n      <span\r\n        id={'list-card-text-' + idNamePair._id}\r\n        key={'span-' + idNamePair._id}\r\n        className='list-card-text'\r\n      >\r\n        {idNamePair.name}\r\n      </span>\r\n      <input\r\n        disabled={cardStatus}\r\n        type='button'\r\n        id={'delete-list-' + idNamePair._id}\r\n        className='list-card-button'\r\n        onClick={handleDeleteList}\r\n        value={'ðŸ—‘'}\r\n      />\r\n      <input\r\n        disabled={cardStatus}\r\n        type='button'\r\n        id={'edit-list-' + idNamePair._id}\r\n        className='list-card-button'\r\n        onClick={handleToggleEdit}\r\n        value={'\\u270E'}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  if (editActive) {\r\n    cardElement = (\r\n      <input\r\n        id={'list-' + idNamePair._id}\r\n        className='list-card'\r\n        type='text'\r\n        onKeyPress={handleKeyPress}\r\n        onChange={handleUpdateText}\r\n        defaultValue={idNamePair.name}\r\n      />\r\n    );\r\n  }\r\n  return cardElement;\r\n}\r\n\r\nexport default ListCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}